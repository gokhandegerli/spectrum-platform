server:
  port: 8080

spring:
  application:
    name: load-balancer
  profiles:
    active: docker

logging:
  level:
    com.degerli.loadbalancer: INFO
    root: INFO

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  prometheus:
    metrics:
      export:
        enabled: true

# Load Balancer Configuration
loadbalancer:
  algorithm: ROUND_ROBIN
  health-check-enabled: true
  health-check-interval: 5000
  health-check-timeout: 2000

  services:
    kisakes:
      algorithm: ROUND_ROBIN
      upstreams:
        - url: http://kisakes-app-1:8081
          weight: 1
          max-connections: 100
        - url: http://kisakes-app-2:8082
          weight: 1
          max-connections: 100

    dummy-service:
      algorithm: ROUND_ROBIN
      upstreams:
        - url: http://dummy-service-1:8083
          weight: 1
          max-connections: 150
        - url: http://dummy-service-2:8084
          weight: 1
          max-connections: 100

  # Circuit Breaker Configuration
  circuit-breaker:
    enabled: true
    failure-threshold: 5
    success-threshold: 2
    timeout-seconds: 60
    reset-timeout-seconds: 300

  # Rate Limiting Configuration
  rate-limit:
    enabled: false

  # SSL/TLS Configuration
  ssl:
    enabled: false

  # Sticky Session Configuration
  sticky-session:
    enabled: false